{
  "header": "",
  "footer": "",
  "inputs": [
    {
      "name": "daos_crt_timeout",
      "type": "number",
      "description": "crt_timeout",
      "default": 300,
      "required": false
    },
    {
      "name": "daos_disk_count",
      "type": "number",
      "description": "Number of local ssd's to use",
      "default": 16,
      "required": false
    },
    {
      "name": "daos_disk_type",
      "type": "string",
      "description": "Daos disk type to use. For now only suported one is local-ssd",
      "default": "local-ssd",
      "required": false
    },
    {
      "name": "daos_scm_size",
      "type": "number",
      "description": "scm_size",
      "default": 200,
      "required": false
    },
    {
      "name": "instance_base_name",
      "type": "string",
      "description": "MIG instance base names to use",
      "default": "daos-server",
      "required": false
    },
    {
      "name": "labels",
      "type": "any",
      "description": "Set of key/value label pairs to assign to daos-server instances",
      "default": {},
      "required": false
    },
    {
      "name": "machine_type",
      "type": "string",
      "description": "GCP machine type.",
      "default": "n2-custom-36-215040",
      "required": false
    },
    {
      "name": "mig_name",
      "type": "string",
      "description": "MIG name ",
      "default": "daos-server",
      "required": false
    },
    {
      "name": "network_name",
      "type": "string",
      "description": "Name of the GCP network to use",
      "default": "default",
      "required": false
    },
    {
      "name": "number_of_instances",
      "type": "number",
      "description": "Number of daos servers to bring up",
      "default": 4,
      "required": false
    },
    {
      "name": "os_disk_size_gb",
      "type": "number",
      "description": "OS disk size in GB",
      "default": 20,
      "required": false
    },
    {
      "name": "os_disk_type",
      "type": "string",
      "description": "OS disk type ie. pd-ssd, pd-standard",
      "default": "pd-ssd",
      "required": false
    },
    {
      "name": "os_family",
      "type": "string",
      "description": "OS GCP image family",
      "default": "daos-server-centos-7",
      "required": false
    },
    {
      "name": "os_project",
      "type": "string",
      "description": "OS GCP image project name. Defaults to project_id if null.",
      "default": null,
      "required": false
    },
    {
      "name": "pools",
      "type": "list(object({\n    pool_name  = string\n    pool_size  = string\n    containers = list(string)\n    })\n  )",
      "description": "If provided, this module will generate a script to create a list of pools. pool attributes have to be specified in a format acceptable by [dmg](https://docs.daos.io/v2.0/admin/pool_operations/) and daos.",
      "default": [],
      "required": false
    },
    {
      "name": "preemptible",
      "type": "string",
      "description": "If preemptible instances",
      "default": false,
      "required": false
    },
    {
      "name": "project_id",
      "type": "string",
      "description": "The GCP project to use ",
      "default": null,
      "required": true
    },
    {
      "name": "region",
      "type": "string",
      "description": "The GCP region to create and test resources in",
      "default": null,
      "required": true
    },
    {
      "name": "service_account",
      "type": "object({\n    email  = string,\n    scopes = set(string)\n  })",
      "description": "Service account to attach to the instance. See https://www.terraform.io/docs/providers/google/r/compute_instance_template.html#service_account.",
      "default": {
        "email": null,
        "scopes": [
          "https://www.googleapis.com/auth/devstorage.read_only",
          "https://www.googleapis.com/auth/logging.write",
          "https://www.googleapis.com/auth/monitoring.write",
          "https://www.googleapis.com/auth/servicecontrol",
          "https://www.googleapis.com/auth/service.management.readonly",
          "https://www.googleapis.com/auth/trace.append"
        ]
      },
      "required": false
    },
    {
      "name": "subnetwork_name",
      "type": "string",
      "description": "Name of the GCP sub-network to use",
      "default": "default",
      "required": false
    },
    {
      "name": "subnetwork_project",
      "type": "string",
      "description": "The GCP project where the subnetwork is defined. Defaults to project_id if null.",
      "default": null,
      "required": false
    },
    {
      "name": "template_name",
      "type": "string",
      "description": "MIG template name",
      "default": "daos-server",
      "required": false
    },
    {
      "name": "zone",
      "type": "string",
      "description": "The GCP zone to create and test resources in",
      "default": null,
      "required": true
    }
  ],
  "modules": [
    {
      "name": "daos_server",
      "source": "../../modules/daos_server",
      "version": "",
      "description": null
    }
  ],
  "outputs": [
    {
      "name": "daos_agent_yml",
      "description": "YAML to configure the daos agent. This is typically saved in /etc/daos/daos_agent.yml"
    },
    {
      "name": "daos_config_script",
      "description": "Script to configure the DAOS system. This will format the sytem with dmg -l and optionally create the specified pools."
    },
    {
      "name": "daos_control_yml",
      "description": "YAML configuring DAOS control. This is typically saved in /etc/daos/daos_control.yml"
    }
  ],
  "providers": [],
  "requirements": [
    {
      "name": "terraform",
      "version": "\u003e= 0.14.5"
    },
    {
      "name": "google",
      "version": "\u003e= 3.54.0"
    }
  ],
  "resources": []
}
